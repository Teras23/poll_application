<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      th:lang="#{language_code}"
      vocab="http://schema.org/"
      typeof="WebSite">
<head>
    <title th:text="#{questions_title}"></title>
    <th:block layout:include="fragments/head"/>
    <link rel="stylesheet" type="text/css" href="/css/questions.css"/>
    <script src="/js/questions.js"></script>

    <meta id="poll_id" name="pollId" th:content="${poll.id}"/>
</head>
<body>
<th:block layout:replace="fragments/navigation"/>
<main>
    <div class="container">
        <div id="title_div" class="center-align">
            <h3 id="poll_title" class="icon-h3" th:text="${poll.title}"></h3>
            <a href="#" onclick="toggleEditTitle()">
                <i class="material-icons question-list-icon">edit</i>
            </a>
        </div>

        <div id="title_edit_div" class="row">
            <div class="center-align inline input-field offset-s3 col s5">
                <input value="Alvin" id="poll_title_input" type="text" class="validate"/>
                <label class="active" for="poll_title_input">Title</label>

            </div>
            <div class="col s1">
                <a href="#" onclick="cancelEditTitle()">
                    <i class="material-icons question-list-icon red-text">cancel</i>
                </a>
                <a href="#" onclick="finishEditTitle()">
                    <i class="material-icons question-list-icon green-text">check</i>
                </a>
            </div>
        </div>

        <div class="row" id="questions-row">
            <div class="col s12 m8 offset-m2">

                <ul class="collection" id="questions-wrapper">
                    <!--question fragments go here-->
                </ul>

                <p class="center-align">
                    <a href="#edit-modal" class="modal-trigger center-align" id="add-question-button">
                        <i class="material-icons green-text add-question-icon">add_circle</i>
                    </a>
                </p>

                <div class="row" id="finish-buttons-row">
                    <div class="col s4 m3 offset-s1 offset-m2">
                        <a href="#" th:text="#{done}" class="btn green" id="save-poll-button"></a>
                    </div>
                    <div class="col s4 m3 offset-s2 offset-m2">
                        <a href="/polls" th:text="#{cancel}" class="btn red"></a>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <th:block layout:include="fragments/question_edit"/>
    <div class="hide">
        <th:block layout:replace="fragments/questions_question"/>
        <th:block layout:replace="fragments/question_edit_answer"/>
        <th:block layout:replace="fragments/help_buttons"/>
    </div>
</main>
<th:block layout:replace="fragments/footer"/>
</body>
</html>
